<html>
	<head>
		<title>getting started - tags</title>
		<link href="hydrus.ico" rel="shortcut icon" />
		<link href="style.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="content">
			<p><a href="getting_started_files.html"><--- Back to files</a></p>
			<h3>how do we find files?</h3>
			<p>So, you have stored some media in your database. Everything is hashed and cached. You can search by inbox and resolution and size and so on, but if you really want to find what we are looking for, you will have to use <i>tags</i>.</p>
			<p><a href="faq.html#tags">FAQ: what is a tag?</a></p>
			<p>Your client starts with a 'local tags' service, which keeps all of its file->tag mappings in your client's database where only you can see them. It is a good place to practise. So, select a file and press F3:</p>
			<p><a href="sororitas_local.png"><img src="sororitas_local.png" width="960" height="540" /></a></p>
			<p>The autocomplete dropdown in the manage tags dialog works very like the one in a normal search page--you type part of a tag, and matching results will appear below. You select the tag you want with the arrow keys and hit enter. Since your local tags service doesn't have any tags in it yet, you won't get any results here except the exact match of what you typed. If you want to remove a tag, enter the exact same thing again or double-click it in the box above.</p>
			<p>Prefixing a tag with a category and a colon will create a <i>namespaced</i> tag. This helps inform the software and other users about what the tag is. Examples of namespaced tags are:</p>
			<ul>
				<li>character:batman</li>
				<li>series:street fighter</li>
				<li>person:jennifer lawrence</li>
				<li>title:vitruvian man</li>
			</ul>
			<p>The client is set up to draw common namespaces in different colours, just like boorus do. You can change these colours in the options.</p>
			<p>Once you are happy with your tags, hit 'apply' or just press enter on the text box if it is empty.</p>
			<p><a href="sororitas_local_done.png"><img src="sororitas_local_done.png" width="960" height="540" /></a></p>
			<p>The tags are now saved to your database. Searching for any of them will return this file and anything else so tagged:</p>
			<p><a href="sororitas_search.png"><img src="sororitas_search.png" width="960" height="540" /></a></p>
			<p>If you add more tags or system predicates to a search, you will limit the results to those files that match every single one:</p>
			<p><a href="sororitas_hanako.png"><img src="sororitas_hanako.png" width="960" height="540" /></a></p>
			<p>You can also exclude a tag by prefixing it with a hyphen (e.g. '-heresy').</p>
			<h3>OR searching</h3>
			<p>Searches find files that match every search 'predicate' in the list (it is an <b>AND</b> search), which makes it difficult to search for files that include one <b>OR</b> another tag. More recently, simple OR search support was added. All you have to do is hold down Shift when you enter/double-click a tag in the autocomplete entry area. Instead of sending the tag up to the active search list up top, it will instead start an under-construction 'OR chain' in the tag results below:</p>
			<p><img src="or_under_construction.png" /></p>
			<p>You can keep searching for and entering new tags. Holding down Shift on new tags will extend the OR chain, and entering them as normal will 'cap' the chain and send it to the complete and active search predicates above.</p>
			<p><img src="or_done.png" /></p>
			<p>Any file that has one or more of those OR sub-tags will match.</p>
			<p>If you enter an OR tag incorrectly, you can either cancel or 'rewind' the under-construction search predicate with these new buttons that will appear:</p>
			<p><img src="or_buttons.png" /></p>
			<p>You can also cancel an under-construction OR by hitting Esc on an empty input. You can add any sort of search term to an OR search predicate, including system predicates. Some unusual sub-predicates (typically a '-tag', or a very broad system predicate) can run very slowly, but they will run much faster if you include non-OR search predicates in the search:</p>
			<p><img src="or_mixed.png" /></p>
			<p>This search will return all files that have the tag 'fanfic' and one or more of 'medium:text', a positive value for the like/dislike rating 'read later', or PDF mime.</p>
			<h3>tag repositories</h3>
			<p>It can take a long time to tag even small numbers of files well, so I created <i>tag repositories</i> so people can share the work.</p>
			<p>Tag repos store many file->tag relationships. Anyone who has an access key to the repository can sync with it and hence download all these relationships. If any of their own files match up, they will get those tags. Access keys will also usually have permission to upload new tags and ask for existing ones to be deleted.</p>
			<p>Anyone can run a tag repository, but it is a bit complicated for new users. I run a public tag repository that you are <a href="tagging_schema.html">very welcome to access and contribute to</a>. To connect with it, go <i>services->manage services</i> and hit the 'add' button. Fill it in something like this:</p>
			<p><img src="edit_repos_public_tag_repo.png" /></p>
			<p>Here's the info so you can copy it:</p>
			<ul>
				<li>hydrus.no-ip.org</li>
				<li>45871</li>
				<li>4a285629721ca442541ef2c15ea17d1f7f7578b0c3f4f5f2a05f8f0ab297786f</li>
			</ul>
			<p>It is worth checking the 'test address' and 'test access key' buttons just to double-check your firewall and key are all correct.</p>
			<p>Over time, usually when it is idle, your client will download updates from the repository until it is fully synchronised. You can customise when this happens in <i>file->options->maintenance and processing</i>. As the repository synchronises, you should see some new tags appear, particularly on famous files that lots of people have.</p>
			<p><b>Tags are rich, cpu-intensive metadata. My repository has hundreds of millions of mappings, and your client will eventually download and index them all. It will take a few hundred MB and <i>hours</i> of total processing time to fully synchronise. It is best left to work on this in small pieces in the background, either during idle time or shutdown time, so unless you are an advanced user, just leave it to download and process on its own--it usually takes a couple of weeks to quietly catch up.</b></p>
			<p>You can watch more detailed synchronisation progress in the <i>services->review services</i> window.</p>
			<p><img src="tag_repo_review.png" /></p>
			<p>Your new service should now be listed on the left of the manage tags dialog. Adding tags to a repository works very similarly to the local tags service except hitting 'apply' will not immediately confirm your changes--it will put them in a queue to be uploaded. These 'pending' tags will be counted with a plus '+' or minus '-' sign:</p>
			<p><a href="rlm_pending.png"><img src="rlm_pending.png" width="960" height="540" /></a></p>
			<p>Notice that a 'pending' menu has appeared on the main window. This lets you start the upload when you are ready and happy with everything that you have queued.</p>
			<p>When you upload your pending tags, they will commit and look to you like any other tag. The tag repository will anonymously bundle them into the next update, which everyone else will download in a day or so. They will see your tags just like you saw theirs.</p>
			<p>If you attempt to remove a tag that has been uploaded, you may be prompted to give a reason, creating a petition that an administrator will review.</p>
			<p>Please do not spam tags to my public tag repo until you get a rough feel for the <a href="tagging_schema.html">tag schema</a>, or just lurk until you get the idea. I am not very strict about it (it is not difficult to correct mistakes), but I essentially only want factual tags--no subjective opinion.</p>
			<p>You can connect to many different tag repositories, if you like. When you are in the <i>manage tags</i> dialog, pressing the up or down arrow keys on an empty input switches between your services.</p>
			<p><a href="faq.html#delays">FAQ: why can my friend not see what I just uploaded?</a></p>
			<p class="right"><a href="getting_started_downloading.html">Read about downloading ---></a></p>
			<p class="right"><a href="index.html">Go back to the index ---></a></p>
		</div>
	</body>
</html>