<html>
	<head>
		<title>message depots</title>
		<link href="hydrus.ico" rel="shortcut icon" />
		<link href="style.css" rel="stylesheet" type="text/css" />
	</head>
	<body>
		<div class="content">
			<h3>how the hydrus network sends messages</h3>
			<p>Message depots mix hydrus's standard access key authentication with cryptograhic principles to store clients' messages privately. They work a little like repositories, except anyone can upload data, and they do so anonymously.</p>
			<p>All a message depot knows about its users are their public keys and which encrypted messages are for them. It does not know their private keys, and cannot decrypt the messages it stores.</p>
			<p>I have made the encryption work as best as I can, but it is a very difficult problem to get cryptography 100% correct. I use AES-256 and RSA-2048 with a simple mostly-random-byte padding scheme and OAEP respectively, along with python's os.urandom() for the PRNG. I am fairly certain I have made no major errors, but I cannot guarantee that a dedicated and well financed attacker cannot defeat it. Please feel free to check my source code (HydrusMessageHandling.py) if you are so interested. If you would like to know more about cryptography, go check out <a href="http://en.wikipedia.org/wiki/Cryptography" title="See you in four hours!">wikipedia</a>. Hydrus uses both public-key and symmetric-key cryptography.</p>
			<p>Contact keys are just sha256( PEM( public_key ) ).</p>
			<p>I plan to extend this service to better guarantee anonymity; at the moment, it is trivial for someone to alter their server's source code to record IP addresses, so I will test onion-routing algorithms or similar in future.</p>
			<p>Here are some diagrams:</p>
			<p><img src="message_sync_1.png" /></p>
			<p><img src="message_sync_2.png" /></p>
			<p><img src="message_sync_3.png" /></p>
			<p><img src="message_sync_4.png" /></p>
			<p>There is a little more to it (applying statuses to a message), but I have only half-implemented it. I shall flush out the description once it is done.</p>
		</div>
	</body>
</html>